{% extends 'base.html' %}
{% load i18n %}
{% load staticfiles %}
{% block scripts %}
    <script src="{% static 'js/custom/pws_list.js' %}" type="text/javascript"></script>
{% endblock %}
{% block menu %}
    <li><a href="{% url 'webapp:pws_add' %}">{% trans "Add new" %}</a></li>
    <li><a href="#">{% trans "Import" %}</a></li>
{% endblock %}
{% block content %}
    <div class="table-wrapper">
        <table class="uk-table uk-table-hover">
            <thead>
            <tr>
                <th class="uk-width-1-5">{% trans "Number" %}</th>
                <th class="uk-width-1-5">{% trans "Name" %}</th>
                <th class="uk-width-1-5">{% trans "City" %}</th>
                <th class="uk-width-1-5">{% trans "Water Source" %}</th>
                <th class="uk-width-1-5 uk-text-center" colspan="2">{% trans "Actions" %}</th>
            </tr>
            </thead>
            <tbody>
            {% for pws in pws_list %}
                <tr id="top-half-pws{{ pws.id }}">
                    <td>{{ pws.number }}</td>
                    <td>{{ pws.name }}</td>
                    <td>{{ pws.city }}</td>
                    <td>{{ pws.water_source }}</td>
                    <td class="uk-text-center">
                        <a href="#" data-id="{{ pws.id }}"
                           data-uk-toggle="{target:'#bottom-half-pws{{ pws.id }}'}"
                           data-state="hidden"
                           data-hide-text="{% trans "Hide notes" %}"
                           data-expand-text="{% trans "Show notes" %}">{% trans "Show notes" %}</a>
                    </td>
                    <td class="uk-text-center">
                        <a href="{% url 'webapp:pws_edit' pws.id %}">{% trans "Edit" %}</a>
                    </td>
                </tr>
                <tr class="uk-hidden" id="bottom-half-pws{{ pws.id }}">
                    <td class="uk-text-muted">{% trans "Notes:" %}</td>
                    <td colspan="5">{{ pws.notes }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}