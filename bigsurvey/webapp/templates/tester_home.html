{% extends 'base.html' %}
{% load i18n widget_tweaks pagination_tags %}
{% block content %}
    <div class="uk-grid">
        <div class="uk-width-1-3 uk-container-center uk-vertical-align-middle uk-panel uk-panel-box">
            <p class="uk-text-large uk-text-muted">{% trans "Please enter credentials of the Site" %}</p>
            {% block form %}
                <form class="uk-form" method="get" name="tester-site-search">
                    {% if form.non_field_errors %}
                        <p class="uk-text-danger">{{ form.non_field_errors }}</p>
                    {% endif %}
                    <div class="uk-form-row">
                        <p>{% trans 'PWS' %}</p>
                        {{ form.pws.errors }}
                        {{ form.pws|add_class:'uk-width-1-1' }}
                    </div>
                    <div class="uk-form-row">
                        <p>{% trans 'Customer Number, Customer Address or Meter Number' %}</p>
                        {{ form.search_value.errors }}
                        {{ form.search_value|add_class:'uk-width-1-1' }}
                    </div>
                    <div class="uk-form-row">
                        <button class="uk-button uk-button-primary uk-width-1-1" name="submit" type="submit">{% trans 'Search' %}</button>
                    </div>
                </form>
            {% endblock %}
        </div>
    </div>
    {% if sites_queryset %}
    <div class="uk-grid">
        <div class="uk-width-1-3 uk-container-center uk-vertical-align-middle uk-panel uk-panel-box">
            <p class="uk-text-large uk-text-muted">{% trans "Search results" %}</p>
            {% autopaginate sites_queryset 5 %}
            {% for site in sites_queryset %}
                <p><a href="{{ site.get_absolute_url }}">{{ site.site_details_in_search_result }}</a></p>
            {% endfor %}
        <div class="custom-pagination">
            {% paginate %}
        </div>
        </div>
    </div>
    {% endif %}

{% endblock %}